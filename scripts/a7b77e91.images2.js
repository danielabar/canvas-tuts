"use strict";!function(){window.TP={},TP.init=function(){this.canvas=document.getElementById("canvas"),this.ctx=canvas.getContext("2d"),this.width=canvas.width,this.height=canvas.height,this.imageObj=new Image,this.imageObj.src="images/butterfly.jpg",this.registerToolTips(),this.registerEvents()},TP.registerToolTips=function(){$(".action").tooltip({container:"body"})},TP.registerEvents=function(){var a=this;this.imageObj.onload=function(){a.renderImage(a.ctx,a.imageObj)},$("#greyScale").on("click",function(){a.toGreyScale(a.ctx)}),$("#inverse").on("click",function(){a.inverse(a.ctx)}),$("#reset").on("click",function(){a.renderImage(a.ctx,a.imageObj)}),$("#download").on("click",function(){$(this).attr("href",a.canvas.toDataURL())})},TP.renderImage=function(a,b){a.drawImage(b,10,10)},TP.toGreyScale=function(a){for(var b=a.getImageData(10,10,350,520),c=b.data,d=0;d<c.length;d+=4){var e=.34*c[d]+.5*c[d+1]+.16*c[d+2];c[d]=e,c[d+1]=e,c[d+2]=e}a.putImageData(b,10,10)},TP.inverse=function(a){for(var b=a.getImageData(10,10,350,520),c=b.data,d=0;d<c.length;d+=4)c[d]=255-c[d],c[d+1]=255-c[d+1],c[d+2]=255-c[d+2];a.putImageData(b,10,10)},TP.init()}();